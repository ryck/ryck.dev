---
title: Numerar los comentarios en WordPress (o no)
publishedAt: '2008-10-17'
categories:
  - WordPress
tags:
  - sorteos
lang: es
---

Hablando con [CrackVan](http://blog.crackvan.net/) de los sorteos y eso (yo harÃ© un par de ellos enseguida, por cierto) saliÃ³ a debate el tema de cual serÃ­a la mejor forma de sortear algo para que no haya despuÃ©s rollos raros (que la gente Ãºltimamente estÃ¡ muy nerviosa) y creo que hemos dado con un sistema bastante robusto:

> (NÂº ONCE) MOD (NÂº Comentarios Post Sorteo) + 1 = NÂº Comentario Ganador

AsÃ­, al basarte en un numero aleatorio externo, te evitas problemas.

Lo cual nos lleva a tener que numerar los comentarios de todos las entradas o, al menos, de las entradas que pertenezcan a una determinada categorÃ­a (Sorteos, por poner un ejemplo original). La teorÃ­a es muy fÃ¡cil (bueno, y la prÃ¡ctica tambiÃ©n, la verdad). Solo hay que editar la plantilla de los comentarios de nuestro tema (normalmente _comments.php_) aÃ±adiendo un contador (que inicializaremos a 1 antes de entrar en el bucle de comentarios) y luego ir aumentÃ¡ndolo segÃºn nuestras condiciones. Por ejemplo, yo numero todas los comentarios, pero en las entradas que pertenecen a la categorÃ­a Sorteos, los comentarios que hago yo no cuentan (para que el sistema no le asigne un nÃºmero) la cosa serÃ­a tal que asÃ­:

```php
if (in_category(321) && $comment->user_id != 1) { echo "#" . $nComm; $nComm++;}
```

Donde 321 es el ID de la categorÃ­a Sorteos y 1 el ID de mi usuario.

Ala, otra clase magistral de vuestro amigo Coco ðŸ˜›
